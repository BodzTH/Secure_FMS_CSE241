# ðŸš€ Quick Setup Guide

## Quick Start (Person 2 & Person 3)

### 1ï¸âƒ£ Clone/Navigate to Project
```bash
cd security-information-system
```

### 2ï¸âƒ£ Install Dependencies
```bash
npm install
```

### 3ï¸âƒ£ Setup Database

**In MySQL Workbench:**
```sql
CREATE DATABASE security_project;
USE security_project;

CREATE TABLE users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(50) UNIQUE NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    password_hash VARCHAR(255) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    login_attempts INT DEFAULT 0,
    last_login_attempt TIMESTAMP NULL
);
```

### 4ï¸âƒ£ Configure .env File
```env
PORT=3000
DB_HOST=localhost
DB_USER=root
DB_PASSWORD=YOUR_MYSQL_PASSWORD  # âš ï¸ Change this!
DB_NAME=security_project
JWT_SECRET=your_secret_key_here   # âš ï¸ Change this!
```

### 5ï¸âƒ£ Run Server
```bash
node app.js
```

**Expected output:**
```
MySQL Connected
Database 'security_project' ready
Table 'users' ready
Server running on port 3000
```

### 6ï¸âƒ£ Test
```bash
# Open browser
http://localhost:3000

# Or test database
node test-db.js
```

---

## ðŸ“‹ For Person 2 (File Upload)

### Your Tasks:

1. **Create new files:**
   ```
   controllers/fileController.js
   routes/fileRoutes.js
   ```

2. **Use Authentication Middleware:**
   ```javascript
   const authMiddleware = require('./middleware/authMiddleware');
   
   router.post('/upload', authMiddleware, fileController.upload);
   ```

3. **Access user information:**
   ```javascript
   const userId = req.user.userId; // Use as owner_id
   ```

4. **Create files table:**
   ```sql
   CREATE TABLE files (
       file_id INT AUTO_INCREMENT PRIMARY KEY,
       owner_id INT NOT NULL,
       filename VARCHAR(255) NOT NULL,
       encrypted_path VARCHAR(500) NOT NULL,
       file_hash VARCHAR(64) NOT NULL,
       uploaded_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
       FOREIGN KEY (owner_id) REFERENCES users(id)
   );
   ```

5. **Install additional packages:**
   ```bash
   npm install multer crypto
   ```

---

## ðŸ” Using Auth Middleware

### To protect any route:

```javascript
const authMiddleware = require('./middleware/authMiddleware');

app.post('/protected-route', authMiddleware, (req, res) => {
    // User verified successfully
    console.log('User ID:', req.user.userId);
    console.log('Email:', req.user.email);
    console.log('Username:', req.user.username);
    
    res.json({ message: 'Access granted' });
});
```

---

## âœ… Checklist Before Starting

- [ ] Node.js installed
- [ ] MySQL Server running
- [ ] Ran `npm install`
- [ ] Database created
- [ ] `.env` file configured
- [ ] Server runs successfully
- [ ] Tested registration and login

---

**Ready to start? Run `node app.js` and begin working!** ðŸš€
